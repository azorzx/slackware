================
StripSlack HOWTO (c) Niki Kovacs <info@microlinux.fr>
================

The following HOWTO describes the installation of StripSlack, a lightweight
configuration of Slackware.


Introduction
------------

Users who want a minimal system can configure this fairly easily with
distributions like CentOS, Debian, Arch, Crux, Gentoo, LFS, etc. 

The Slackware Linux distribution is built differently. The user is supposed to
install full package groups to obtain a coherent system. These package groups
mix packages required for a basic system with those needed for some more
specific configurations. Thus, a user who wants to configure a file server
without a GUI ends up with the full monty of KDE-specific libraries, and the
average desktop user has a full collection of web and file servers on his
machine. 

While this is not really a problem, sometimes the need for a more
stripped-down system may arise. This is where StripSlack comes in.


Core system
-----------

Our first goal will be to install an extremely reduced system. This core
system has to be able to do the following:

  1. Boot in console mode.

  2. Allow the root user to connect to the system.

  3. Allow package installation from a CD-Rom or a DVD.

And that's it. No networking, no remote connection, no development tools, no
man or info pages, only a handful of utilities to perform the most basic
tasks. We will add all these components later on. For now, here's the list of
packages we need:

  * a/aaa_base
  * a/aaa_elflibs
  * a/aaa_terminfo
  * a/bash
  * a/bin
  * a/coreutils
  * a/devs
  * a/e2fsprogs
  * a/elvis
  * a/etc
  * a/findutils
  * a/glibc-solibs
  * a/glibc-zoneinfo
  * a/grep
  * a/gzip
  * a/kbd
  * a/kernel-firmware
  * a/kernel-huge
  * a/kernel-huge-smp
  * a/kernel-modules
  * a/kernel-modules-smp
  * a/kmod
  * a/lilo
  * a/pkgtools
  * a/procps
  * a/sed
  * a/shadow
  * a/sysvinit
  * a/sysvinit-functions
  * a/sysvinit-scripts
  * a/tar
  * a/udev
  * a/util-linux
  * a/which
  * a/xz


Manual installation
-------------------

Once you reach the installer's package selection screen (PACKAGE SERIES
SELECTION), deselect all package groups except the A group:

  [*] A     Base Linux system

In the next screen (SELECT PROMPTING MODE), choose either the "menu" or
"expert" selection mode:

  menu      Choose individual packages from interactive menus
  expert    This is actually the same as the "menu" option

The package selction screen (SELECTING PACKAGES FROM SERIES A) defaults to all
packages selected. Now we have to deselect all the packages we don't need:

  [*] aaa_base
  [*] aaa_elflibs
  [*] aaa_terminfo
  [ ] acl
  [ ] acpid
  [ ] apm
  [ ] attr
  [*] bash
  ...

  /!\ This selection mode is quite fastidious and highly error-prone.
  Deselecting one wrong package amounts to shooting yourself in the foot.


Semi-automatic installation
---------------------------

In order to avoid painstakingly picking each package, use the provided set of
tagfiles to install the core system. These are plain text files supposed to
automate the potentially tedious package installation process, like a
bone-headed version of Red Hat Enterprise Linux' Kickstart files.

Boot the Slackware installation DVD (or the first CD). Select your keyboard
layout, login as root and partition your hard disk, but don't start the
installer yet.

Bring up your network interface, for example:

  root@slackware:/# dhcpcd eth0 

The Slackware installation environment already sports an empty '/tag'
directory for a set of tagfiles, so let's use it.

  # cd /tag 

Grab the set of tagfiles from the server:

  # wget http://www.microlinux.fr/slackware/stripslack-14.1/core.tar.gz 

Unpack the downloaded archive:

  # tar xvzf core.tar.gz 

Your '/tag' directory should now contain a series of directories corresponding
to the Slackware package sets:

  # ls 
  a/ ap/ d/ e/ f/ k/ kde/ kdei/ l/ n/ t/ tcl/ x/ xap/ xfce/ y/

Now start the Slackware installer:

  # setup 

PACKAGE SERIES SELECTION: accept the default package selection, since the
tagfiles will override this and take care of selecting each package anyway. 

SELECT PROMPTING MODE: tagpath - Use tagfiles in the subdirectories of a
custom path

Path to tagfiles: /tag

From there, proceed as usual.


Documentation
-------------

The LFS book:

  * http://www.linuxfromscratch.org/lfs/view/stable/

The BLFS book:

  * http://www.linuxfromscratch.org/blfs/view/stable/

The somewhat outdated "Linux From Slack" article on the Slackware-fr.org site:

  * http://wiki.slackware-fr.org/installation:articles:linux_from_slack

Vincent Batts' Minimal Slackware Installation:

  * http://www.slackware.com/~vbatts/minimal/


-- Niki Kovacs, Sat Nov 29 08:14:07 CET 2014

